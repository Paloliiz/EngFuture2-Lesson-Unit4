<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F2 - Unit 4 : Connecting Ideas</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&family=Sarabun:wght@400;600&display=swap');
        
        :root {
            /* ‡∏™‡∏µ‡∏ò‡∏µ‡∏°‡∏™‡πâ‡∏°-‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏£‡∏∞‡∏ï‡∏∑‡∏≠‡∏£‡∏∑‡∏≠‡∏£‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ */
            --primary: #00695c;
            --accent: #e65100;
            --bg: #e0f2f1;
            --text: #333;
        }

        * { box-sizing: border-box; }

        body { font-family: 'Prompt', sans-serif; background-color: var(--bg); margin: 0; padding: 20px; color: var(--text); min-height: 100vh; display: flex; justify-content: center; align-items: center; }
        
        .container { width: 100%; max-width: 650px; background: white; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); overflow: hidden; display: flex; flex-direction: column; min-height: 700px; position: relative; }
        
        /* Header */
        .top-bar { padding: 15px 20px; background: var(--primary); color: white; display: flex; justify-content: space-between; align-items: center; }
        .subject-name { font-size: 0.8em; opacity: 0.9; font-weight: 300; }
        .user-display { font-size: 0.9em; font-weight: bold; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; }

        /* Screens */
        .screen { padding: 30px 20px; flex: 1; display: none; flex-direction: column; align-items: center; animation: fadeIn 0.4s ease-in-out; width: 100%; }
        .screen.active { display: flex; }

        /* Typography */
        h2 { color: var(--primary); text-align: center; margin-bottom: 20px; font-size: 1.6em; }
        p { line-height: 1.7; margin-bottom: 15px; width: 100%; }
        
        .content-box { width: 100%; background: #f5f5f5; padding: 25px; border-radius: 12px; margin-bottom: 20px; font-family: 'Sarabun', sans-serif; font-size: 1.1em; text-align: left; border-left: 6px solid var(--accent); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .highlight { background: #fff8e1; padding: 2px 6px; border-radius: 4px; font-weight: bold; color: #ef6c00; }
        .instruction { font-size: 0.95em; color: #555; text-align: center; margin-bottom: 15px; font-style: italic; background: #e0f7fa; padding: 10px; border-radius: 8px; width: 100%; }

        /* Inputs & Buttons */
        input[type="number"] { padding: 15px; font-size: 1.3em; width: 80%; text-align: center; border: 2px solid #ddd; border-radius: 50px; margin: 20px 0; outline: none; font-family: 'Prompt', sans-serif; transition: 0.3s; }
        input:focus { border-color: var(--primary); box-shadow: 0 0 10px rgba(0, 105, 92, 0.2); }

        .btn { padding: 12px 30px; border: none; border-radius: 50px; font-size: 1.1em; font-weight: bold; cursor: pointer; transition: 0.2s; box-shadow: 0 4px 6px rgba(0,0,0,0.1); font-family: 'Prompt', sans-serif; }
        .btn-primary { background: linear-gradient(135deg, var(--primary), #004d40); color: white; width: 100%; max-width: 300px; }
        .btn-primary:active { transform: scale(0.95); }
        .btn-secondary { background: #e0e0e0; color: #555; }
        .btn-nav-group { width: 100%; display: flex; justify-content: space-between; margin-top: auto; padding-top: 20px; }

        /* Exercise: Fill Blank */
        .sentence-box { font-size: 1.25em; text-align: center; margin: 15px 0; padding: 20px; background: white; border-radius: 10px; border: 2px solid #b2dfdb; color: #004d40; font-weight: bold; line-height: 1.8; }
        .blank-space { display: inline-block; min-width: 80px; border-bottom: 3px solid var(--accent); color: var(--accent); padding: 0 5px; }
        .choice-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; }
        .choice-btn { padding: 15px; border: 2px solid #ccc; background: white; border-radius: 10px; cursor: pointer; font-size: 1.1em; transition: 0.2s; font-weight: bold; color: #555; }
        .choice-btn:hover { border-color: var(--primary); background: #e0f2f1; }
        .choice-btn.selected { background: var(--primary); color: white; border-color: var(--primary); }

        /* Game Sorting */
        .sort-area { width: 100%; display: flex; flex-direction: column; gap: 12px; }
        .sort-card { background: white; border: 2px solid #ddd; padding: 15px; border-radius: 10px; cursor: pointer; font-size: 1em; font-weight: 500; transition: 0.2s; display: flex; align-items: center; }
        .sort-card:hover { border-color: var(--accent); transform: translateX(5px); }
        .sort-card.picked { background: #cfd8dc; color: #78909c; cursor: default; border-color: #ccc; text-decoration: line-through; opacity: 0.6; }
        .ans-slot { min-height: 100px; background: #fff3e0; border: 2px dashed var(--accent); border-radius: 10px; margin-bottom: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--accent); padding: 15px; }
        .ans-item { background: var(--accent); color: white; padding: 5px 15px; border-radius: 20px; margin: 5px; font-size: 0.9em; width: 90%; text-align: left; }

        /* Quiz Choices */
        .quiz-container { width: 100%; }
        .quiz-progress { text-align: right; font-size: 0.9em; color: #888; margin-bottom: 10px; }
        .quiz-option { width: 100%; padding: 18px; text-align: left; background: white; border: 2px solid #eee; border-radius: 15px; margin-bottom: 12px; cursor: pointer; transition: 0.2s; font-family: 'Sarabun', sans-serif; font-size: 1.1em; }
        .quiz-option:hover { border-color: var(--primary); background: #e0f2f1; transform: translateY(-2px); }
        .quiz-option.locked { pointer-events: none; opacity: 0.8; }
        .quiz-option.correct { background: #a5d6a7; border-color: #388e3c; color: #1b5e20; }
        .quiz-option.wrong { background: #ef9a9a; border-color: #d32f2f; color: #b71c1c; }

        /* Certificate */
        .cert-card { border: 10px double var(--primary); padding: 30px; margin-top: 10px; position: relative; background: #fff; width: 100%; text-align: center; overflow: hidden; }
        .cert-title { font-size: 1.8em; color: var(--primary); font-weight: bold; margin: 15px 0; }
        .cert-name { font-size: 1.6em; color: var(--accent); font-weight: bold; margin: 20px 0; border-bottom: 2px solid #eee; display: inline-block; padding-bottom: 10px; min-width: 200px; }
        .cert-score { font-size: 3em; font-weight: bold; color: #333; }
        .stamp { color: #c62828; border: 3px solid #c62828; display: inline-block; padding: 5px 20px; font-weight: bold; transform: rotate(-15deg); font-size: 1.5em; margin-top: 20px; opacity: 0.7; }
        
        /* Watermark */
        .watermark-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; opacity: 0.05; display: flex; flex-wrap: wrap; justify-content: center; align-content: center; transform: rotate(-20deg) scale(1.2); }
        .wm-item { margin: 30px; font-weight: bold; font-size: 16px; white-space: nowrap; color: #000; }
        .cert-content { position: relative; z-index: 2; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container">
    <div class="top-bar">
        <div>
            <div style="font-weight:bold; font-size:1.2em;">Connecting Ideas üî•</div>
            <div class="subject-name">‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πà‡∏≠ 2 (‡∏≠30212)</div>
        </div>
        <div id="userDisplay" class="user-display">Guest</div>
    </div>

    <div id="screen-login" class="screen active">
        <div style="text-align: center; margin: auto; width: 100%;">
            <div style="font-size: 5em; margin-bottom: 10px;">üîó</div>
            <h2>English for Future Studies 2</h2>
            <p>Unit 4: Connecting Ideas</p>
            <p style="font-size:0.9em; color:#e65100;">‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î</p>
            
            <input type="number" id="inputID" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 5 ‡∏´‡∏•‡∏±‡∏Å" onkeypress="if(event.key === 'Enter') checkLogin()">
            <br>
            <button class="btn btn-primary" onclick="checkLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
            <p style="font-size: 0.8em; color: #999; margin-top: 30px;">(‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ‡∏°.6/3, 6/4)</p>
            
            <div style="margin-top: 30px; cursor: pointer; color: #e0e0e0; font-size: 0.8em;" onclick="adminReset()">
                [ üîÑ Admin Reset ]
            </div>
        </div>
    </div>

    <div id="screen-lesson" class="screen">
        <div id="lesson-content" style="width: 100%;"></div>
    </div>

    <div id="screen-result" class="screen"></div>
</div>

<script>
    // --- 1. DATA: STUDENT DATABASE ---
    const students = {
        "012345": { name: "‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π‡∏®‡∏£‡∏∏‡∏ï‡∏≤ ‡∏à‡∏±‡∏ô‡∏ó‡πÄ‡∏Å‡∏ï‡∏∏", class: "Teacher", no: 99 },
        "11456": { name: "‡∏ô‡∏≤‡∏¢‡∏ß‡∏∏‡∏í‡∏¥‡∏ä‡∏±‡∏¢ ‡∏õ‡∏≤‡∏™‡∏≤", class: "‡∏°.6/3", no: 1 }, "11478": { name: "‡∏ô‡∏≤‡∏¢‡πÄ‡∏à‡∏©‡∏é‡∏≤ ‡∏ô‡∏∏‡∏Ç‡∏∏‡∏ô‡∏ó‡∏î", class: "‡∏°.6/3", no: 2 }, "11490": { name: "‡∏ô‡∏≤‡∏¢‡∏™‡∏¥‡∏£‡∏ß‡∏¥‡∏ä‡∏ç‡πå ‡∏Ñ‡∏ì‡∏≤‡∏ç‡∏≤‡∏ï‡∏¥", class: "‡∏°.6/3", no: 3 }, "11513": { name: "‡∏ô‡∏≤‡∏¢‡∏ò‡∏ô‡∏ß‡∏±‡∏í‡∏ô‡πå ‡∏ï‡∏£‡∏ß‡∏à‡∏ô‡∏≠‡∏Å", class: "‡∏°.6/3", no: 4 }, "11516": { name: "‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡πÄ‡∏ß‡∏ä ‡∏õ‡∏£‡∏∞‡∏´‡∏π‡∏®‡∏£‡∏µ", class: "‡∏°.6/3", no: 5 }, "11519": { name: "‡∏ô‡∏≤‡∏¢‡∏£‡∏±‡∏ê‡∏û‡∏á‡∏®‡πå ‡∏û‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê‡πå", class: "‡∏°.6/3", no: 6 }, "11520": { name: "‡∏ô‡∏≤‡∏¢‡∏ß‡∏≤‡∏£‡∏™‡∏≤‡∏£ ‡∏™‡∏≤‡∏¢‡∏®‡∏£", class: "‡∏°.6/3", no: 7 }, "11574": { name: "‡∏ô‡∏≤‡∏¢‡∏Å‡∏ô‡∏Å‡∏ô‡∏±‡∏ô‡∏ò‡πå ‡∏≠‡∏≥‡∏Ñ‡∏≤‡∏´‡∏•‡πâ‡∏≤", class: "‡∏°.6/3", no: 8 }, "11575": { name: "‡∏ô‡∏≤‡∏¢‡∏Å‡∏§‡∏©‡∏é‡∏≤ ‡πÅ‡∏Å‡∏°‡∏à‡∏¥‡∏ô‡∏î‡∏≤", class: "‡∏°.6/3", no: 9 }, "11578": { name: "‡∏ô‡∏≤‡∏¢‡∏ì‡∏±‡∏ê‡∏û‡∏• ‡∏õ‡∏∏‡∏£‡∏≤‡∏ñ‡∏≤‡πÄ‡∏ô", class: "‡∏°.6/3", no: 10 }, "11588": { name: "‡∏ô‡∏≤‡∏¢‡∏†‡∏≤‡∏™‡∏¥‡∏ï ‡∏û‡∏á‡∏®‡∏Å‡∏∏‡∏•", class: "‡∏°.6/3", no: 11 }, "11918": { name: "‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ä‡∏≤‡∏û‡∏• ‡∏Ñ‡∏£‡∏≠‡∏á‡∏¢‡∏∏‡∏ï‡∏¥", class: "‡∏°.6/3", no: 12 }, "12471": { name: "‡∏ô‡∏≤‡∏¢‡πÄ‡∏Ç‡∏°‡∏¥‡∏ô‡∏ó‡∏£‡πå ‡∏´‡∏•‡∏≤‡∏ö‡∏´‡∏ô‡∏≠‡∏á‡πÅ‡∏™‡∏á", class: "‡∏°.6/3", no: 13 }, "12472": { name: "‡∏ô‡∏≤‡∏¢‡∏ì‡∏±‡∏ê‡∏ß‡∏±‡∏í‡∏ô‡πå ‡∏î‡πà‡∏≤‡∏ô‡∏°‡∏ì‡∏µ", class: "‡∏°.6/3", no: 14 }, "12775": { name: "‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡πÄ‡∏à‡∏ï‡∏ô‡πå ‡∏û‡∏∏‡∏ó‡∏ò‡∏™‡∏±‡∏á‡∏Ç‡πå", class: "‡∏°.6/3", no: 16 }, "11493": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡πÅ‡∏Å‡πâ‡∏ß‡∏°‡∏ì‡∏µ ‡∏â‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏ô‡∏ó‡∏ß‡∏µ‡∏™‡∏∏‡∏Ç", class: "‡∏°.6/3", no: 17 }, "11499": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏û‡∏±‡∏ä‡∏£‡∏û‡∏£ ‡∏î‡∏≤‡∏£‡∏±‡∏Å‡∏©‡πå", class: "‡∏°.6/3", no: 18 }, "11501": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡πÄ‡∏û‡πá‡∏ç‡∏û‡∏¥‡∏ä‡∏ä‡∏≤ ‡∏™‡∏µ‡∏ó‡∏≠‡∏á", class: "‡∏°.6/3", no: 19 }, "11533": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏¢‡∏∏‡∏û‡∏≤‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏™‡∏µ‡πÅ‡∏î‡∏á", class: "‡∏°.6/3", no: 20 }, "11596": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ó‡∏¥‡∏û‡∏ß‡∏£‡∏£‡∏ì ‡∏ö‡∏∏‡∏ç‡∏Ñ‡∏∏‡πà‡∏¢", class: "‡∏°.6/3", no: 21 }, "11628": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏°‡∏•‡πÄ‡∏ô‡∏ï‡∏£ ‡∏§‡∏ó‡∏ò‡∏¥‡πÄ‡∏î‡∏ä", class: "‡∏°.6/3", no: 22 }, "11632": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ó‡∏¥‡∏û‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏£‡πà‡∏°‡∏£‡∏∑‡πà‡∏ô", class: "‡∏°.6/3", no: 23 }, "12473": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ä‡∏ô‡∏≤‡∏†‡∏≤ ‡∏ô‡∏≤‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥", class: "‡∏°.6/3", no: 24 }, "12474": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ì‡∏±‡∏ê‡∏ß‡∏¥‡∏†‡∏≤ ‡∏à‡∏±‡∏ô‡∏™‡∏≥‡∏£‡∏ß‡∏°", class: "‡∏°.6/3", no: 25 }, "12476": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ß‡∏£‡∏±‡∏ç‡∏ç‡∏≤‡∏°‡∏∞‡∏•‡∏¥‡∏ã‡πâ‡∏≠‡∏ô", class: "‡∏°.6/3", no: 26 },
        "11484": { name: "‡∏ô‡∏≤‡∏¢‡∏ò‡∏µ‡∏£‡∏ï‡∏¥ ‡∏õ‡∏£‡∏∞‡∏´‡∏π‡∏®‡∏£‡∏µ", class: "‡∏°.6/4", no: 1 }, "11518": { name: "‡∏ô‡∏≤‡∏¢‡∏†‡∏π‡∏°‡∏¥‡∏û‡∏±‡∏í‡∏ì‡πå ‡∏™‡∏µ‡∏ô‡∏ß‡∏•", class: "‡∏°.6/4", no: 2 }, "11523": { name: "‡∏ô‡∏≤‡∏¢‡∏≠‡∏ô‡∏±‡∏ô‡∏ï‡πå‡∏ä‡∏±‡∏¢ ‡∏û‡∏±‡∏ô‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç", class: "‡∏°.6/4", no: 3 }, "11582": { name: "‡∏ô‡∏≤‡∏¢‡∏ô‡∏¥‡∏Ñ‡∏° ‡∏ï‡∏£‡∏≤‡∏ú‡∏±‡∏Å‡πÅ‡∏ß‡πà‡∏ô", class: "‡∏°.6/4", no: 4 }, "11618": { name: "‡∏ô‡∏≤‡∏¢‡∏û‡∏µ‡∏£‡∏û‡∏±‡∏í‡∏ô‡πå ‡πÑ‡∏Å‡πà‡πÅ‡∏Å‡πâ‡∏ß", class: "‡∏°.6/4", no: 5 }, "11624": { name: "‡∏ô‡∏≤‡∏¢‡∏≠‡∏ò‡∏¥‡∏ä‡∏≤ ‡∏û‡∏•‡∏à‡∏≠‡∏´‡∏≠", class: "‡∏°.6/4", no: 6 }, "11674": { name: "‡∏ô‡∏≤‡∏¢‡∏£‡∏±‡∏ï‡∏†‡∏π‡∏°‡∏¥ ‡πÅ‡∏Å‡πà‡∏á‡∏Å‡∏£‡∏∞‡πÇ‡∏ó‡∏Å", class: "‡∏°.6/4", no: 7 }, "11957": { name: "‡∏ô‡∏≤‡∏¢‡∏ô‡∏¥‡∏û‡∏¥‡∏ê‡∏û‡∏ô‡∏ó‡πå ‡∏î‡∏≤‡∏®‡∏£‡∏µ", class: "‡∏°.6/4", no: 8 }, "12228": { name: "‡∏ô‡∏≤‡∏¢‡∏†‡∏π‡∏£‡∏¥‡∏û‡∏±‡∏ó‡∏ò‡πå ‡πÄ‡∏õ‡∏µ‡πà‡∏¢‡∏°‡πÄ‡∏à‡∏£‡∏¥‡∏ç", class: "‡∏°.6/4", no: 9 }, "12479": { name: "‡∏ô‡∏≤‡∏¢‡∏ó‡∏¥‡∏ê‡∏¥‡∏ô‡∏±‡∏ô‡∏ó‡πå ‡∏à‡∏≤‡∏î‡∏ô‡∏≠‡∏Å", class: "‡∏°.6/4", no: 10 }, "12480": { name: "‡∏ô‡∏≤‡∏¢‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏ô‡∏ô‡∏ó‡πå ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πÄ‡∏î‡∏ä", class: "‡∏°.6/4", no: 11 }, "11465": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏†‡∏±‡∏ó‡∏£‡∏†‡∏£‡∏ì‡πå ‡∏ô‡∏≤‡∏Ñ‡∏ß‡∏±‡∏ô", class: "‡∏°.6/4", no: 12 }, "11505": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ß‡∏¥‡∏¢‡∏∞‡∏é‡∏≤ ‡∏≠‡∏∏‡∏ï‡∏£‡∏µ", class: "‡∏°.6/4", no: 13 }, "11538": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ß‡∏µ‡∏£‡∏∞‡∏ï‡∏≤ ‡∏™‡∏∑‡∏ö‡∏™‡∏∏‡∏ô‡∏ó‡∏£", class: "‡∏°.6/4", no: 14 }, "11567": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏•‡∏¥‡∏•‡∏ó‡∏¥‡∏û‡∏¢‡πå ‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏î‡∏á", class: "‡∏°.6/4", no: 15 }, "11568": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏ä‡∏≤‡∏î‡∏≤ ‡∏≠‡∏ô‡∏±‡∏ô‡∏ï‡πå‡∏ô‡∏¥‡∏•", class: "‡∏°.6/4", no: 16 }, "11569": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏û‡∏¥‡∏ä‡∏å‡∏≤‡∏¢‡πå ‡∏Å‡∏≥‡πÄ‡∏´‡∏ô‡∏¥‡∏î", class: "‡∏°.6/4", no: 17 }, "11593": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏°‡∏•‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏û‡∏∑‡∏ä‡∏ô‡∏∞‡∏ú‡∏•", class: "‡∏°.6/4", no: 18 }, "11604": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏≠‡∏£‡∏ß‡∏¥‡∏ô‡∏ó‡πå ‡∏™‡∏∏‡∏î‡∏™‡∏±‡∏á‡∏Ç‡πå", class: "‡∏°.6/4", no: 19 }, "11671": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏≠‡∏¥‡∏°‡∏ß‡∏≤ ‡πÅ‡∏™‡∏ô‡∏Ç‡∏ß‡∏≤", class: "‡∏°.6/4", no: 20 }, "11949": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏†‡∏±‡∏ó‡∏£‡∏ì‡∏ô‡∏¥‡∏î‡∏≤ ‡∏Å‡∏∏‡∏•‡∏ä‡∏±‡∏¢", class: "‡∏°.6/4", no: 21 }, "12481": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏£‡∏∏‡πâ‡∏á‡∏•‡∏≤‡∏ß‡∏±‡∏•‡∏¢‡πå ‡∏™‡∏≤‡∏¢‡∏™‡∏±‡∏á‡∏Ç‡πå", class: "‡∏°.6/4", no: 22 }, "12488": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ò‡∏±‡∏ç‡∏£‡∏±‡∏ï‡∏ô‡πå ‡πÅ‡∏ï‡∏á‡∏£‡∏≠‡∏î", class: "‡∏°.6/4", no: 23 }, "12778": { name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏≠‡∏†‡∏¥‡∏ç‡∏ç‡∏≤ ‡∏á‡∏≤‡∏°‡∏™‡∏°", class: "‡∏°.6/4", no: 24 }
    };

    let currentUser = null;
    let slideIndex = 0;
    let quizScore = 0;
    let currentQuizSet = []; 

    // --- EXPANDED QUESTION BANK (30 Items) ---
    const questionPool = [
        { q: "‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° (Transition Words) ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∞‡πÑ‡∏£?", choices: ["‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏™‡∏±‡πâ‡∏ô‡∏•‡∏á", "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏•", "‡∏ö‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"], ans: "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏•" },
        { q: "‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà '‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô' ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤?", choices: ["But", "Because", "And"], ans: "And" },
        { q: "‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà '‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏Å‡∏±‡∏ô' ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤?", choices: ["And", "So", "But"], ans: "But" },
        { q: "'I like pizza, ___ I don't like burgers.'", choices: ["and", "but", "so"], ans: "but" },
        { q: "‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'Because' ‡πÉ‡∏ä‡πâ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î?", choices: ["‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Effect)", "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• (Cause)", "‡∏•‡∏≥‡∏î‡∏±‡∏ö (Sequence)"], ans: "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• (Cause)" },
        { q: "‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'So' ‡πÉ‡∏ä‡πâ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î?", choices: ["‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Effect)", "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• (Cause)", "‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á"], ans: "‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Effect)" },
        { q: "'It was raining, ___ I stayed home.'", choices: ["because", "so", "but"], ans: "so" },
        { q: "'I stayed home ___ it was raining.'", choices: ["so", "because", "and"], ans: "because" },
        { q: "‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡∏Ñ‡∏≥‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡∏∑‡∏≠?", choices: ["Finally", "Next", "First"], ans: "First" },
        { q: "‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'Finally' ‡∏°‡∏±‡∏Å‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏´‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á?", choices: ["‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô", "‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á", "‡∏ï‡∏≠‡∏ô‡∏ó‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î"], ans: "‡∏ï‡∏≠‡∏ô‡∏ó‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î" },
        { q: "'Next' ‡πÅ‡∏•‡∏∞ 'Then' ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏≠‡∏∞‡πÑ‡∏£?", choices: ["‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ñ‡∏±‡∏î‡πÑ‡∏õ", "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•", "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á"], ans: "‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ñ‡∏±‡∏î‡πÑ‡∏õ" },
        { q: "'She is beautiful ___ smart.'", choices: ["but", "and", "so"], ans: "and" },
        { q: "'I studied hard, ___ I passed the exam.'", choices: ["so", "because", "but"], ans: "so" },
        { q: "'I passed the exam ___ I studied hard.'", choices: ["so", "but", "because"], ans: "because" },
        { q: "'He is rich, ___ he is unhappy.'", choices: ["and", "but", "so"], ans: "but" },
        { q: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ö‡∏≠‡∏Å '‡πÄ‡∏´‡∏ï‡∏∏‡πÅ‡∏•‡∏∞‡∏ú‡∏•'?", choices: ["First, Next", "And, But", "Because, So"], ans: "Because, So" },
        { q: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ö‡∏≠‡∏Å '‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå'?", choices: ["First, Then, Finally", "And, But, Or", "Because, So"], ans: "First, Then, Finally" },
        { q: "'I want to buy a car, ___ I have no money.'", choices: ["so", "because", "but"], ans: "but" },
        { q: "'First, wash vegetables. ___, cut them.'", choices: ["Finally", "Next", "Because"], ans: "Next" },
        { q: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° *‡∏ú‡∏¥‡∏î*?", choices: ["I like dogs and cats.", "It was hot, so I opened the window.", "I was hungry because I ate a lot."], ans: "I was hungry because I ate a lot." },
        { q: "'He woke up late, ___ he missed the bus.'", choices: ["so", "because", "but"], ans: "so" },
        { q: "'I can play guitar, ___ I cannot sing.'", choices: ["and", "but", "or"], ans: "but" },
        { q: "'She likes coffee ___ cake.'", choices: ["and", "but", "so"], ans: "and" },
        { q: "‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'Consequently' ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö?", choices: ["So", "But", "And"], ans: "So" },
        { q: "‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'However' ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö?", choices: ["And", "But", "Because"], ans: "But" },
        { q: "'The weather was bad, ___ we cancelled the trip.'", choices: ["because", "so", "but"], ans: "so" },
        { q: "'We cancelled the trip ___ the weather was bad.'", choices: ["because", "so", "but"], ans: "because" },
        { q: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î *‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà* ‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤?", choices: ["Then", "After that", "Because"], ans: "Because" },
        { q: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ 'I love you, but I can't marry you.' ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏ö‡∏ö‡πÉ‡∏î?", choices: ["‡∏Ñ‡∏•‡πâ‡∏≠‡∏¢‡∏ï‡∏≤‡∏°", "‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á", "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•"], ans: "‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á" },
        { q: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ 'He didn't eat because he wasn't hungry.' ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏ö‡∏ö‡πÉ‡∏î?", choices: ["‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á", "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•", "‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤"], ans: "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•" }
    ];

    // --- BASE SLIDES (Unit 4 Intensive) ---
    const baseSlides = [
        // 0. Intro
        { type: "intro", title: "Unit 4: Connecting Ideas", html: `<p><b>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô! (Intensive Edition)</b></p><ul><li>‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ (Transition Words)</li><li>‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô 4 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (‡∏Ñ‡∏•‡πâ‡∏≠‡∏¢‡∏ï‡∏≤‡∏°, ‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á, ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•, ‡∏•‡∏≥‡∏î‡∏±‡∏ö)</li><li>‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÑ‡∏î‡πâ</li></ul><p>‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ó‡∏≥‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏Ñ‡∏£‡∏π‡πÄ‡∏≠‡∏≤‡πÉ‡∏à‡∏ä‡πà‡∏ß‡∏¢!</p>` },
        
        // Theory Sections
        { type: "read", title: "1. Addition (‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡πâ‡∏≠‡∏¢‡∏ï‡∏≤‡∏°)", html: `<p class="highlight" style="background:#e8f5e9; color:#2e7d32;">And (‡πÅ‡∏•‡∏∞)</p><p>‡πÉ‡∏ä‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà <b>‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô</b> ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏õ‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô</p><div class="content-box">Ex: I like English <b>and</b> I like Math.<br>(‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‡πÅ‡∏•‡∏∞ ‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏ì‡∏¥‡∏ï)</div>` },
        { type: "read", title: "2. Contrast (‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á)", html: `<p class="highlight" style="background:#ffebee; color:#c62828;">But (‡πÅ‡∏ï‡πà)</p><p>‡πÉ‡∏ä‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà <b>‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏±‡∏ô</b> ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô</p><div class="content-box">Ex: I like English, <b>but</b> I don't like Math.<br>(‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‡πÅ‡∏ï‡πà ‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏ì‡∏¥‡∏ï)</div>` },
        { type: "read", title: "3. Cause & Effect (‡πÄ‡∏´‡∏ï‡∏∏‡πÅ‡∏•‡∏∞‡∏ú‡∏•)", html: `<p class="highlight" style="background:#e3f2fd; color:#1565c0;">Because (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ß‡πà‡∏≤) & So (‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô)</p><p>üëâ <b>Because</b> ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤ "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•" (Cause)<br><i>[‡∏ú‡∏•] because [‡πÄ‡∏´‡∏ï‡∏∏]</i></p><p>üëâ <b>So</b> ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤ "‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå" (Effect)<br><i>[‡πÄ‡∏´‡∏ï‡∏∏] , so [‡∏ú‡∏•]</i></p><div class="content-box">Ex 1: I was late <b>because</b> the traffic was bad.<br>Ex 2: The traffic was bad, <b>so</b> I was late.</div>` },
        { type: "read", title: "4. Sequence (‡∏Å‡∏≤‡∏£‡∏•‡∏≥‡∏î‡∏±‡∏ö)", html: `<p>‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</p><ul><li><b>First, ...</b> (‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å)</li><li><b>Next, / Then, ...</b> (‡∏ï‡πà‡∏≠‡∏°‡∏≤)</li><li><b>Finally, ...</b> (‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ô‡∏µ‡πâ)</li></ul><div class="content-box">Ex: <b>First</b>, fill the form. <b>Next</b>, pay money. <b>Finally</b>, get card.</div>` },

        // --- CONCEPT CHECK (Pre-test knowledge) ---
        // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å choices ‡πÄ‡∏õ‡πá‡∏ô options ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î initQuiz
        { type: "quiz", title: "Concept Check 1/3", q: "‡∏ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á '‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏Å‡∏±‡∏ô' ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤?", options: ["And", "But", "So"], ans: 1 },
        { type: "quiz", title: "Concept Check 2/3", q: "‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'So' (‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô) ‡πÉ‡∏ä‡πâ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î?", options: ["‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• (Cause)", "‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Effect)", "‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (Example)"], ans: 1 },
        { type: "quiz", title: "Concept Check 3/3", q: "‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤?", options: ["Finally", "Then", "First"], ans: 2 },

        // --- EXERCISE 5: Part 1 (4 Items) ---
        { type: "fill-blank", id: 1, title: "Exercise", 
          pre: "Maria loves coffee, ", post: " her sister loves tea. (‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á)", 
          choices: ["and", "but", "so", "because"], ans: "but" },
        { type: "fill-blank", id: 2, title: "Exercise", 
          pre: "I want to go to the library ", post: " I need to study. (‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•)", 
          choices: ["so", "but", "because", "and"], ans: "because" },
        { type: "fill-blank", id: 3, title: "Exercise", 
          pre: "He studied very hard, ", post: " he passed the exam. (‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)", 
          choices: ["because", "but", "so", "and"], ans: "so" },
        { type: "fill-blank", id: 4, title: "Exercise", 
          pre: "My major is interesting ", post: " difficult. (‡∏Ñ‡∏•‡πâ‡∏≠‡∏¢‡∏ï‡∏≤‡∏°/‡πÄ‡∏™‡∏£‡∏¥‡∏°)", 
          choices: ["so", "because", "but", "and"], ans: "and" },

        // --- EXERCISE 5: Part 2 (New 4 Items) ---
        { type: "fill-blank", id: 5, title: "Exercise", 
          pre: "It was raining heavily, ", post: " we stayed inside.", 
          choices: ["but", "so", "because", "or"], ans: "so" },
        { type: "fill-blank", id: 6, title: "Exercise", 
          pre: "She didn't eat lunch ", post: " she wasn't hungry.", 
          choices: ["so", "because", "but", "and"], ans: "because" },
        { type: "fill-blank", id: 7, title: "Exercise", 
          pre: "Tom is tall, ", post: " his brother is short.", 
          choices: ["and", "but", "so", "because"], ans: "but" },
        { type: "fill-blank", id: 8, title: "Exercise", 
          pre: "First, wash your hands. ", post: ", dry them.", 
          choices: ["Next", "Because", "But", "So"], ans: "Next" },

        // Game Intro
        { type: "read", title: "Activity : How to make instant noodles", html: `<p><b>‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à:</b> ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πâ‡∏°‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡∏Å‡∏∂‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p><p>‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°: First, Next, Then, Finally</p>` },

        // Game (Sorting)
        { type: "game", title: "Instant Noodle Challenge üçú", items: [
            {id: '1', txt: "First, boil the water."},
            {id: '2', txt: "Next, put the noodles in the bowl."},
            {id: '3', txt: "Then, add hot water and wait 3 mins."},
            {id: '4', txt: "Finally, enjoy your noodles."}
        ], answer: ['1', '2', '3', '4'] },

        // Quiz Intro
        { type: "quiz-intro", title: "Final Challenge Quiz", html: `<div style="text-align:center; font-size:3em;">üòà</div><p><b>‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏î‡∏ú‡∏• (10 ‡∏Ç‡πâ‡∏≠)</b></p><p></p><p class="highlight" style="color:#c62828; background:#ffebee;"><b>‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô: ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏° 10/10 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô!</b></p>` }
    ];

    let currentSessionSlides = []; 

    // --- UTILS ---
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function generateQuizSet() {
        const shuffledPool = shuffleArray([...questionPool]);
        const selectedQuestions = shuffledPool.slice(0, 10);
        const quizSlides = selectedQuestions.map(qObj => {
            let opts = [...qObj.choices];
            opts = shuffleArray(opts);
            const correctIdx = opts.indexOf(qObj.ans);
            return {
                type: "quiz",
                q: qObj.q,
                options: opts,
                ans: correctIdx
            };
        });
        return quizSlides;
    }

    // --- LOGIC ---

    function checkLogin() {
        const id = document.getElementById('inputID').value.trim();
        
        // Admin Reset (Paloliiz in Base64)
        const targetSecret = "UGFsb2xpaXo="; 
        
        if (students[id]) {
            currentUser = students[id];
            currentUser.id = id;
            document.getElementById('userDisplay').innerText = currentUser.name;
            document.getElementById('screen-login').classList.remove('active');
            
            // Prepare Slides
            const randomQuizzes = generateQuizSet();
            currentSessionSlides = [...baseSlides, ...randomQuizzes];
            slideIndex = 0;
            
            renderSlide();
        } else {
            alert("‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ñ‡πà‡∏∞ (‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)");
        }
    }

    function renderSlide() {
        document.getElementById('screen-lesson').innerHTML = ""; 
        document.getElementById('screen-lesson').style.display = "none";
        document.getElementById('screen-result').innerHTML = ""; 
        document.getElementById('screen-result').style.display = "none";

        if (slideIndex >= currentSessionSlides.length) {
            showResult();
            return;
        }

        const s = currentSessionSlides[slideIndex];
        const screen = document.getElementById('screen-lesson');
        screen.style.display = "flex"; 
        screen.classList.add('active');

        // Reset Score if starting FINAL quiz (Concept checks don't count towards final score)
        if (s.type === 'quiz-intro') quizScore = 0;

        let html = `<h2>${s.title || "Question " + (slideIndex - baseSlides.length + 1)}</h2>`;

        // Render based on type
        if (['intro', 'read', 'quiz-intro'].includes(s.type)) {
            html += `<div class="content-box">${s.html}</div>`;
            html += renderNav(true);
        }
        else if (s.type === 'fill-blank') {
            html += `<p class="instruction">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á</p>`;
            html += `<div class="sentence-box">${s.pre}<span id="blank-slot-${s.id}" class="blank-space">_______</span>${s.post}</div>`;
            html += `<div class="choice-grid" id="choice-area"></div>`;
            html += `<button class="btn btn-primary" style="margin-top:20px;" onclick="checkFillBlank('${s.ans}', ${s.id})">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>`;
        }
        else if (s.type === 'game') {
            html += `<p class="instruction">‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô (1 ‚ûú 4)</p>`;
            html += `<div class="ans-slot" id="game-slot"><span style="color:#ccc;">(‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà)</span></div>`;
            html += `<div class="sort-area" id="sort-area"></div>`;
            html += `<div class="btn-nav-group"><button class="btn btn-secondary" onclick="resetGame()">‡∏•‡πâ‡∏≤‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö</button><button class="btn btn-primary" onclick="checkGame()">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button></div>`;
        }
        else if (s.type === 'quiz') {
            html += `<div class="quiz-container">
                        ${s.title ? '' : `<div class="quiz-progress">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà ${slideIndex - baseSlides.length + 1} / 10</div>`}
                        <div class="content-box" style="font-weight:bold; font-size:1.2em;">${s.q}</div>
                        <div id="quiz-options"></div>
                     </div>`;
        }

        screen.innerHTML = `<div style="width:100%;">${html}</div>`;

        if (s.type === 'fill-blank') initFillBlank(s);
        if (s.type === 'game') initGame(s);
        if (s.type === 'quiz') initQuiz(s);
    }

    function renderNav(showBack) {
        let backBtn = (showBack && slideIndex > 0) ? `<button class="btn btn-secondary" onclick="prevSlide()">‚¨ÖÔ∏è ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>` : `<div></div>`;
        return `<div class="btn-nav-group">${backBtn}<button class="btn btn-primary" style="width:auto;" onclick="nextSlide()">‡πÑ‡∏õ‡∏ï‡πà‡∏≠ ‚û°Ô∏è</button></div>`;
    }

    function nextSlide() { slideIndex++; renderSlide(); }
    function prevSlide() { slideIndex--; renderSlide(); }

    // --- FILL BLANK LOGIC ---
    let selectedChoice = null;
    function initFillBlank(s) {
        selectedChoice = null;
        const area = document.getElementById('choice-area');
        s.choices.forEach(txt => {
            let btn = document.createElement('div');
            btn.className = 'choice-btn';
            btn.innerText = txt;
            btn.onclick = () => selectFillChoice(txt, btn, s.id);
            area.appendChild(btn);
        });
    }

    function selectFillChoice(txt, btn, id) {
        selectedChoice = txt;
        document.querySelectorAll('.choice-btn').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        document.getElementById(`blank-slot-${id}`).innerText = txt;
        document.getElementById(`blank-slot-${id}`).style.color = "var(--primary)";
    }

    function checkFillBlank(ans, id) {
        if (!selectedChoice) { alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏∞"); return; }
        if (selectedChoice === ans) {
            alert("üéâ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞!");
            nextSlide();
        } else {
            alert("‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á");
            selectedChoice = null;
            document.querySelectorAll('.choice-btn').forEach(b => b.classList.remove('selected'));
            document.getElementById(`blank-slot-${id}`).innerText = "_______";
        }
    }

    // --- GAME LOGIC ---
    let gamePicks = [];
    function initGame(s) {
        gamePicks = [];
        const area = document.getElementById('sort-area');
        s.items.forEach(item => {
            let div = document.createElement('div');
            div.className = 'sort-card';
            div.innerText = item.txt;
            div.onclick = () => pickGameItem(item.id, div, item.txt);
            area.appendChild(div);
        });
    }
    function pickGameItem(id, el, txt) {
        if (gamePicks.includes(id)) return;
        gamePicks.push(id);
        el.classList.add('picked');
        
        const slot = document.getElementById('game-slot');
        if (gamePicks.length === 1) slot.innerHTML = "";
        
        let itemDiv = document.createElement('div');
        itemDiv.className = 'ans-item';
        itemDiv.innerText = `${gamePicks.length}. ${txt}`;
        slot.appendChild(itemDiv);
    }
    function resetGame() { gamePicks = []; renderSlide(); }
    function checkGame() {
        const s = currentSessionSlides[slideIndex];
        if (JSON.stringify(gamePicks) === JSON.stringify(s.answer)) { alert("üéâ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞! ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å"); nextSlide(); }
        else { alert("‚ùå ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞"); resetGame(); }
    }

    // --- QUIZ LOGIC ---
    function initQuiz(s) {
        const area = document.getElementById('quiz-options');
        s.options.forEach((opt, idx) => {
            let btn = document.createElement('button');
            btn.className = 'quiz-option';
            btn.innerText = opt;
            btn.onclick = () => answerQuiz(btn, idx, s.ans, s.title);
            area.appendChild(btn);
        });
    }

    function answerQuiz(btn, selected, correct, isPractice) {
        const allBtns = document.querySelectorAll('.quiz-option');
        allBtns.forEach(b => b.classList.add('locked')); 

        if (selected === correct) {
            btn.classList.add('correct');
            // Only count score if it's NOT a practice question (no title)
            if (!isPractice) quizScore++;
            setTimeout(() => { 
                if(isPractice) alert("‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞! ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å"); // Feedback for practice
                nextSlide(); 
            }, 500); 
        } else {
            btn.classList.add('wrong');
            allBtns[correct].classList.add('correct'); 
            setTimeout(() => {
                if(isPractice) alert("‡∏ú‡∏¥‡∏î‡∏Ñ‡πà‡∏∞ ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ô‡∏∞‡∏Ñ‡∏∞"); // Feedback for practice
                nextSlide(); 
            }, 1500); 
        }
    }

    // --- RESULT ---
    function showResult() {
        document.getElementById('screen-lesson').style.display = "none";
        const resScreen = document.getElementById('screen-result');
        resScreen.style.display = "flex";
        
        const passed = (quizScore === 10);
        const now = new Date();
        const dateStr = now.toLocaleDateString('th-TH', { year: 'numeric', month: 'long', day: 'numeric' });
        const timeStr = now.toLocaleTimeString('th-TH', { hour: '2-digit', minute: '2-digit' });
        const refCode = "U4-" + Math.random().toString(36).substr(2, 6).toUpperCase();

        if (passed) {
            resScreen.innerHTML = `
                <h2 style="color:var(--primary)">Mission Complete!</h2>
                <div class="cert-card">
                    <div class="watermark-container" id="wm-area"></div>
                    <div class="cert-content">
                        <div style="font-size:0.8em; letter-spacing:2px; color:#666;">CERTIFICATE OF COMPLETION</div>
                        <h3 class="cert-title">Connecting Ideas Master</h3>
                        <p>‡∏°‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πà</p>
                        <div class="cert-name">${currentUser.name}</div>
                        <p>${currentUser.class} | ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ${currentUser.no}</p>
                        <div class="cert-score">10/10</div>
                        <p style="color:green; font-weight:bold;">FULL SCORE</p>
                        <div style="margin-top:20px; font-size:0.8em; color:#777; border-top:1px dashed #ccc; padding-top:10px;">
                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${dateStr} ‡πÄ‡∏ß‡∏•‡∏≤ ${timeStr}<br>Ref: ${refCode}
                        </div>
                    </div>
                </div>
                <p style="margin-top:20px; color:#666; font-size:0.9em;">üì∏ ‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ô‡∏µ‡πâ‡∏™‡πà‡∏á‡∏Ñ‡∏£‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞</p>
                <button class="btn btn-secondary" onclick="location.reload()" style="margin-top:15px;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
            `;
            
            const wm = document.getElementById('wm-area');
            const txt = `${currentUser.id} ${currentUser.name}`;
            for(let i=0; i<15; i++) {
                let s = document.createElement('div');
                s.className = 'wm-item';
                s.innerText = txt;
                wm.appendChild(s);
            }
        } else {
            resScreen.innerHTML = `
                <div class="mission-fail" style="width:100%;">
                    <div style="font-size:4em;">üò¢</div>
                    <h2 style="color:#c62828;">Mission Failed</h2>
                    <p style="font-size:1.4em; font-weight:bold;">‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÑ‡∏î‡πâ ${quizScore}/10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                    <p>‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô: 10/10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
                    <p style="color:#666; font-size:0.9em;">‡∏™‡∏π‡πâ‡πÜ ‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!</p>
                    <button class="btn btn-primary" onclick="restartQuiz()">‚Ü∫ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà</button>
                </div>
            `;
        }
    }

    function restartQuiz() {
        quizScore = 0;
        const newQuizzes = generateQuizSet();
        currentSessionSlides = [...baseSlides, ...newQuizzes];
        slideIndex = baseSlides.length - 1; // Jump to Quiz Intro (Last slide of base)
        renderSlide();
    }

    // --- ADMIN RESET ---
    function adminReset() {
        const targetSecret = "UGFsb2xpaXo="; // Paloliiz in Base64
        let input = prompt("üîê Admin Reset (‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏•‡∏±‡∏ö):");
        try {
            if (input && btoa(input) === targetSecret) {
                localStorage.clear();
                alert("‚úÖ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡∏Ñ‡πà‡∏∞");
                location.reload();
            } else if (input) {
                alert("‚ùå ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞");
            }
        } catch(e) { alert("‚ùå ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞"); }
    }

</script>

</body>
</html>
